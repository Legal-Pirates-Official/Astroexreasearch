<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../../../stylesheets/admin-nav.css" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="../../../stylesheets/admin-panel.css" />
        <title>Internship Update</title>
    </head>
	<link rel="shortcut icon" href="../../../images/favicon.ico" type="image/x-icon">
    <%- include("../../partials/internship.ejs") %>

    <style>
        .plusIcon {
            cursor: pointer;
            width: 3rem;
        }
    </style>

    <body>
        <%- include("../../partials/admin_nav.ejs") %>

        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Update Internship</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <form
                        action="/admin/internship/update/<%= internship.id_internship %>"
                        method="POST"
                    >
                        <div class="form-group-container">
                            <div class="form-group">
                                <label for="heading_internship">Title</label>
                                <input
                                    type="text"
                                    style="width: 50%"
                                    class="form-control mb-3"
                                    id="heading_internship"
                                    name="heading_internship"
                                    value="<%= internship.heading_internship %>"
                                />
                            </div>
                            <div class="form-group">
                                <label for="subheading_internship"
                                    >Sub Heading</label
                                >
                                <input
                                    type="text"
                                    style="width: 50%"
                                    class="form-control mb-3"
                                    id="subheading_internship"
                                    name="subheading_internship"
                                    value="<%= internship.subheading_internship %>"
                                />
                            </div>
                            <div class="form-group">
                                <label for="description_internship"
                                    >Description</label
                                >
                                <input
                                    type="text"
                                    style="width: 50%"
                                    class="form-control mb-3"
                                    id="description_internship"
                                    name="description_internship"
                                    value="<%= internship.description_internship %>"
                                />
                            </div>
                            <div
                                class="plus-container"
                                data-target="<%=tag_length %>"
                            >
                                <label for="description_internship"
                                    >Add Tag</label
                                >
                                <div class="plus-icon">
                                    <p
                                        class="plusIcon"
                                        data-target="<%=tag_length %>"
                                    >
                                        <img
                                            src="https://img.icons8.com/ios-filled/50/000000/add--v1.png"
                                        />
                                    </p>
                                </div>
                            </div>
                            <% tag_internship.forEach((tag,index) => { %>
                            <div class="form-group">
                                <label for="tag_internship_<%= index+1 %>"
                                    >Tag Line <%= index+1 %>
                                </label>
                                <input
                                    type="text"
                                    style="width: 50%"
                                    class="form-control mb-3"
                                    id="tag_internship_<%= index+1 %>"
                                    name="tag_internship<%= index+1 %>"
                                    value="<%= tag %>"
                                />
                            </div>
                            <% }) %>
                        </div>
                        <div>
                            <button type="submit" class="btn btn-primary">
                                Submit
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
        ></script>
        <script>
            const plusIcon = document.querySelector(".plusIcon");
            const formGroupContainer = document.querySelector(
                ".form-group-container"
            );
            let count = parseInt(plusIcon.getAttribute("data-target"));
            plusIcon.addEventListener("click", () => {
                formGroupContainer.insertAdjacentHTML(
                    "beforeend",
                    `<div class="form-group">
                        <label for="tag_internship_${count + 1}">Tag line ${
                        count + 1
                    }</label>
                        <input
                            required
                            class="form-control summer"
                            id="tag_internship_${count + 1}"
                            name="tag_internship_${count + 1}"
                            rows="3"
                        /><br>
                    </div>`
                );
                count++;
            });
        </script>
    </body>
</html>
